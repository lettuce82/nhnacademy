<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inquiry Detail</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="container">
    <h1 th:text="#{inquiryDetail}"></h1>
    <h2 th:text="#{customerInquiry}"></h2>
    <ul>
        <li><strong th:text="#{title}" ></strong> <span th:text="${inquiry.title}"></span></li>
        <li><strong th:text="#{category}"></strong> <span th:text="${inquiry.category}"></span></li>
        <li><strong th:text="#{content}"></strong> <span th:text="${inquiry.content}"></span></li>
        <li><strong th:text="#{status}"></strong>
            <span th:if="${hasAnswer}" style="color: green;"  th:text="#{yesAnswered}"></span>
            <span th:unless="${hasAnswer}" style="color: red;" th:text="#{NotAnswered}"></span>
        </li>
    </ul>

    <h2 th:text="#{attachedFiles}"></h2>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <li th:each="file : ${attachedFiles}" class="swiper-slide" th:if="${file != null}">
                <img th:src="@{/uploads/{filename}(filename=${file.name})}" alt="Attached Image">
            </li>
        </div>
        <div class="swiper-pagination"></div>
    </div>

    <h2 th:text="#{customerServiceResponse}"></h2>
    <div class="customer-response">
        <div th:if="${hasAnswer}">
            <ul>
                <li><strong>Answer:</strong> <span th:text="${answer != null ? answer.content : ''}"></span></li>
                <li><strong>CS Agent:</strong> <span th:text="${answer != null ? admin.name : ''}"></span></li>
                <li><strong>Response Date:</strong> <span th:text="${answer != null ? answer.createdAt : ''}"></span></li>
                <li><strong>CS Representative:</strong> <span th:text="${answer != null ? answer.content : ''}"></span></li>
            </ul>
        </div>
        <div th:unless="${hasAnswer}">
            <p th:text="#{wait}"></p>
        </div>
    </div>

    <div class="language-switcher">
        <a href="?locale=ko">ko</a>
        <a href="?locale=en">en</a>
    </div>

    <div class="button-group">
        <a href="#" th:onclick="javascript:history.back()"><span th:text="#{goToHome}"></span></a>
    </div>
</div>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    var swiper = new Swiper('.swiper-container', {
        pagination: {
            el: '.swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
    });
</script>

</body>
</html>
